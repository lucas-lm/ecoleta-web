(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/logo.47c4581a.svg"},44:function(e,t,a){e.exports=a(76)},49:function(e,t,a){},56:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(41),l=a.n(r),o=a(15),i=a(2),u=a(14),s=a(18),m=a.n(s),p=(a(49),function(){return c.a.createElement("div",{id:"page-home"},c.a.createElement("div",{className:"content"},c.a.createElement("header",null,c.a.createElement("img",{src:m.a,alt:"ecoleta"})),c.a.createElement("main",null,c.a.createElement("h1",null,"Seu marketplace de coleta de res\xedduos"),c.a.createElement("p",null,"Ajudamos pessoas a encontrarem pontos de coleta de forma eficiente."),c.a.createElement(o.b,{to:"/register"},c.a.createElement("span",null,c.a.createElement(u.b,null)),c.a.createElement("strong",null,"Cadastre seu ponto de coleta")))))}),d=a(30),E=a(21),f=a(28),b=a(13),g=a.n(b),v=a(17),O=a(7),h=a(79),j=a(80),S=a(78),_=a(43),C=(a(56),function(e){var t=e.onFileUpload,a=Object(n.useCallback)((function(e){var a=e[0],n=URL.createObjectURL(a);p(n),t(a)}),[t]),r=Object(_.a)({onDrop:a,accept:"image/*"}),l=r.getRootProps,o=r.getInputProps,i=Object(n.useState)(""),s=Object(O.a)(i,2),m=s[0],p=s[1];return c.a.createElement("div",Object.assign({className:"dropzone"},l()),c.a.createElement("input",Object.assign({},o(),{accept:"image/*"})),m?c.a.createElement("img",{src:m,alt:"Point thumbnail"}):c.a.createElement("p",null,c.a.createElement(u.c,null),"Imagem do estabelecimento"))}),y=a(29),P=a.n(y),w=Object({NODE_ENV:"production",PUBLIC_URL:"/ecoleta-web",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_IBGE:"https://servicodados.ibge.gov.br/api/v1",REACT_APP_API_URL:"https://ecoleta-279615.rj.r.appspot.com/"}),x=w.REACT_APP_API_URL,k=w.REACT_APP_API_IBGE,A=P.a.create({baseURL:x}),N=P.a.create({baseURL:k}),R=A,U=(a(74),function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)([]),s=Object(O.a)(l,2),p=s[0],b=s[1],_=Object(n.useState)([]),y=Object(O.a)(_,2),P=y[0],w=y[1],x=Object(n.useState)(),k=Object(O.a)(x,2),A=k[0],U=k[1],I=Object(n.useState)([0,0]),F=Object(O.a)(I,2),T=F[0],D=F[1],L=Object(n.useState)([0,0]),B=Object(O.a)(L,2),W=B[0],z=B[1],K=Object(n.useState)(""),V=Object(O.a)(K,2),G=V[0],H=V[1],J=Object(n.useState)(""),M=Object(O.a)(J,2),q=M[0],Q=M[1],X=Object(n.useState)([]),Y=Object(O.a)(X,2),Z=Y[0],$=Y[1],ee=Object(n.useState)({name:"",email:"",whatsapp:""}),te=Object(O.a)(ee,2),ae=te[0],ne=te[1],ce=Object(i.f)();Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,a=t.latitude,n=t.longitude;D([a,n])}))}),[]),Object(n.useEffect)((function(){(function(){var e=Object(v.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/items");case 2:t=e.sent,a=t.data,r(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){(function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/localidades/estados");case 2:t=e.sent,a=t.data,n=a.map((function(e){return e.sigla})),b(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){G&&function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/localidades/estados/".concat(G,"/municipios"));case 2:t=e.sent,a=t.data,n=a.map((function(e){return e.nome})),w(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[G]);var re=function(e){var t=e.target,a=t.name,n=t.value;ne(Object(f.a)({},ae,Object(E.a)({},a,n)))},le=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,n,c,r,l,o,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=Object(O.a)(W,2),n=a[0],c=a[1],A){e.next=5;break}return alert("Voc\xea precisa de uma foto!"),e.abrupt("return");case 5:for(o in r=new FormData,l=Object(f.a)({},ae,{city:q,uf:G,items:Z.join(","),photo:A,latitude:String(n),longitude:String(c)}))r.append(o,l[o]);return e.next=10,R.post("/points",r);case 10:i=e.sent,201===i.status&&ce.push("/");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{id:"page-create-point"},c.a.createElement("header",null,c.a.createElement("img",{src:m.a,alt:"ecoleta"}),c.a.createElement(o.b,{to:"/"},c.a.createElement(u.a,null),"Voltar para home")),c.a.createElement("form",{onSubmit:le},c.a.createElement("h1",null,"Cadastro do ",c.a.createElement("br",null)," ponto de coleta"),c.a.createElement(C,{onFileUpload:U}),c.a.createElement("fieldset",null,c.a.createElement("legend",null,c.a.createElement("h2",null,"Dados")),c.a.createElement("div",{className:"field"},c.a.createElement("label",{htmlFor:"name"},"Nome da entidade"),c.a.createElement("input",{type:"text",name:"name",id:"name",onChange:re})),c.a.createElement("div",{className:"field-group"},c.a.createElement("div",{className:"field"},c.a.createElement("label",{htmlFor:"email"},"e-mail"),c.a.createElement("input",{type:"email",name:"email",id:"email",onChange:re})),c.a.createElement("div",{className:"field"},c.a.createElement("label",{htmlFor:"whatsapp"},"Whatsapp"),c.a.createElement("input",{type:"text",name:"whatsapp",id:"whatsapp",onChange:re})))),c.a.createElement("fieldset",null,c.a.createElement("legend",null,c.a.createElement("h2",null,"Endere\xe7o"),c.a.createElement("span",null,"Selecione o endere\xe7o no mapa")),c.a.createElement(h.a,{center:T,zoom:14,onclick:function(e){var t=e.latlng,a=t.lat,n=t.lng;z([a,n])}},c.a.createElement(j.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),c.a.createElement(S.a,{position:W})),c.a.createElement("div",{className:"field-group"},c.a.createElement("div",{className:"field"},c.a.createElement("label",{htmlFor:"uf"},"Estado (UF)"),c.a.createElement("select",{name:"uf",id:"uf",value:G,onChange:function(e){H(e.target.value)}},c.a.createElement("option",{value:""},"Selecione uma UF"),p.map((function(e){return c.a.createElement("option",{value:e,key:e},e)})))),c.a.createElement("div",{className:"field"},c.a.createElement("label",{htmlFor:"city"},"Cidade"),c.a.createElement("select",{name:"city",id:"city",onChange:function(e){Q(e.target.value)},value:q},c.a.createElement("option",{value:""},"Selecione uma cidade"),P.map((function(e){return c.a.createElement("option",{key:e,value:e},e)})))))),c.a.createElement("fieldset",null,c.a.createElement("legend",null,c.a.createElement("h2",null,"Itens de coleta"),c.a.createElement("span",null,"Selecione um ou mais itens abaixo")),c.a.createElement("ul",{className:"items-grid"},a.map((function(e){return c.a.createElement("li",{key:e.id,onClick:(t=e.id,function(){Z.includes(t)?$(Object(d.a)(Z.filter((function(e){return e!==t})))):$([].concat(Object(d.a)(Z),[t]))}),className:Z.includes(e.id)?"selected":""},c.a.createElement("img",{src:e.image_url,alt:e.title}),c.a.createElement("span",null,e.title));var t})))),c.a.createElement("button",{type:"submit"},"Cadastrar ponto de coleta")))}),I=function(){return c.a.createElement(o.a,null,c.a.createElement(i.c,null,c.a.createElement(i.a,{exact:!0,path:"/",component:p}),c.a.createElement(i.a,{exact:!0,path:"/register",component:U})))};a(75);var F=function(){return c.a.createElement(I,null)};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(F,null)),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.2a6ba8fc.chunk.js.map